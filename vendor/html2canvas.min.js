/*
  html2canvas 1.4.1 <https://html2canvas.hertzen.com>
  Copyright (c) 2022 Niklas von Hertzen

  Released under a MIT license
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).html2canvas=e()}(this,(function(){"use strict";var t=/^(.*)\s+([0-9.]+)px\s+([^'"\s].*)$/;function e(t){var e,r,n,i=t.getPropertyValue("font-family").split(",").map((function(t){return t.trim().replace(/['"]/g,"")}));return{fontFamily:i,fontSize:t.getPropertyValue("font-size"),fontStyle:t.getPropertyValue("font-style"),fontVariant:t.getPropertyValue("font-variant"),fontWeight:t.getPropertyValue("font-weight"),letterSpacing:t.getPropertyValue("letter-spacing"),lineHeight:t.getPropertyValue("line-height"),paintOrder:t.getPropertyValue("-webkit-font-smoothing"),textDecorationLine:t.getPropertyValue("text-decoration-line"),textDecorationColor:t.getPropertyValue("text-decoration-color"),textDecorationStyle:t.getPropertyValue("text-decoration-style"),textTransform:t.getPropertyValue("text-transform"),wordSpacing:t.getPropertyValue("word-spacing"),fontFeatureSettings:(e=i,r=document,n=r.createElement("div"),n.style.fontFamily=e.join(", "),n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="200px",n.textContent="S",r.body.appendChild(n),getComputedStyle(n).fontFeatureSettings)}var r={BUILT_IN:"built-in",SVG:"svg",CANVAS:"canvas",VML:"vml",FLASH:"flash"};function n(t){return-1!==Object.keys(r).indexOf(t.toUpperCase())}function i(t){return"none"===t}function o(t){return"transparent"===t}function a(t){return"visible"!==t}function s(t){return parseFloat(t)}function l(t,e){switch(t){case"underline":return[e,1];case"overline":return[e,-.12*e];case"line-through":return[e,e/2.5];default:return[e,0]}}var c,u,h={},d=function(t,e,r){var n=Math.min(t,e,r),i=Math.max(t,e,r),o=i-n;return 0===o?o:{h:60*(0===o?0:i===t?(e-r)/o%6:i===e?(r-t)/o+2:(t-e)/o+4),s:i?o/i:0,l:i-.5*o}},p=function(t,e,r){var n=(9-t)/3%3,i=[t,t+4,t+8].map((function(t){return r-(e/2*Math.max(0,Math.min(n-0,1),Math.min(4-n,1),1)))}))*255;return{r:i[0],g:i[1],b:i[2]}},f=function(t,e,r){if(0===e)return{r:r,g:r,b:r};var n=2*r-(r=r<.5?r*(1+e):r+e-r*e),i=r-n;return{r:p(t+4,i,r),g:p(t,i,r),b:p(t-4,i,r)}}.r,g=function(t,e,r){return{r:f(t,e,r),g:f(t,e,r),b:f(t,e,r)}},m=function(t,e,r){return g(t,e,r)};var g=function(t,e,r,n){void 0===n&&(n=1);var i=function(t){var e=/^#([a-f0-9]{3,4}|[a-f0-9]{6}|[a-f0-9]{8})$/i,r=/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,n=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,i=t.match(e);if(!i)return null;var o=i[1].length;i=t.match(4===o||5===o?r:n);return i?{r:parseInt(i[1],16)*(4===o?17:1),g:parseInt(i[2],16)*(4===o?17:1),b:parseInt(i[3],16)*(4===o?17:1),a:i[4]?parseInt(i[4],16)/255*(4===o?17:1):null}:null},o=function(t){var e,r,n,i=/^rgb(a)?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(,\s*(\d?\.?\d+))?\)$/i,o=(t=t.match(i))?{r:parseInt(t[2],10),g:parseInt(t[3],10),b:parseInt(t[4],10),a:t[5]?parseFloat(t[6]):null}:null;return o},a=(e=t,r=/%/g,"hsl"+(n?"a":"")+"("+[e.h,100*e.s+r,100*e.l+r].join(", ")+(n?", "+n:"")+")"),l=(h[t]||(h[t]=u),h[t]);return l||i(t)||o(t)||function(t){var e,r,n,i,o,a;if("transparent"===(t=t.toLowerCase()))return{r:0,g:0,b:0,a:0};t.match(/^hsl(a)?\((\d+),\s*([\d.]+)%,\s*([\d.]+)%(,\s*([\d.]+))?\)$/i)?(o=parseInt(e[2],10),a=parseFloat(e[3])/100,e=(i=parseFloat(e[4])/100,e[5]?parseFloat(e[6]):null),a=m(o/360,a,i),{r:a.r,g:a.g,b:a.b,a:e}):null}};!function(t){function e(t,e,r){return Math.max(e,Math.min(t,r))}t.test=function(t){var r,n,i,o,a,s,l,c;if("string"!=typeof t)throw new Error("Color function expects a string argument");if(o=g(t))return o.a=null===o.a?1:o.a,new u(o,t);if("object"==typeof t&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b)return new u(t);if(s=t,Array.isArray(s)&&3===s.length)return new u({r:e(s[0],0,255),g:e(s[1],0,255),b:e(s[2],0,255)});if(l=t,Array.isArray(l)&&4===l.length)return new u({r:e(l[0],0,255),g:e(l[1],0,255),b:e(l[2],0,255),a:e(l[3],0,1)});if(a=t,("object"==typeof a&&void 0!==a.h&&void 0!==a.s&&void 0!==a.l))return r=a,n=m(r.h,r.s,r.l),new u({r:n.r,g:n.g,b:n.b,a:void 0!==a.a?a.a:1});if(c=t,("object"==typeof c&&void 0!==c.h&&void 0!==c.v&&void 0!==c.s))return i=c,n=function(t,e,r){var n=(t%=360)/60,i=r*e,o=i*(1-Math.abs(n%2-1));e=r-i;return[r=[r,o,0,0,o,r][n=Math.floor(n)]+e,o=[0,r,r,o,0,0][n]+e,i=[0,0,o,r,r,o][n]+e]},new u({r:n.r,g:n.g,b:n.b,a:void 0!==i.a?i.a:1})},u=function(t,e){this.rgb=t,this.value=e||""},u.prototype.isDark=function(){return this.getLuminance()<.5},u.prototype.isLight=function(){return 1-this.isDark()},u.prototype.getLuminance=function(){var t,e,r;return t=this.rgb.r,e=this.rgb.g,r=this.rgb.b,(.2126*(t/=255)<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)+.7152*(e/=255)<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)+.0722*(r/=255)<.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},u.prototype.toRGB=function(){return"rgb("+(0|this.rgb.r)+", "+(0|this.rgb.g)+", "+(0|this.rgb.b)+")"},u.prototype.toRGBa=function(){return"rgba("+(0|this.rgb.r)+", "+(0|this.rgb.g)+", "+(0|this.rgb.b)+", "+(null===this.rgb.a?1:this.rgb.a)+")"},u.prototype.toHSL=function(){var t=d(this.rgb.r,this.rgb.g,this.rgb.b);return"hsl("+(0|360*t.h)+", "+(0|100*t.s)+"%, "+(0|100*t.l)+"%)"},u.prototype.toHSLa=function(){var t=d(this.rgb.r,this.rgb.g,this.rgb.b);return"hsla("+(0|360*t.h)+", "+(0|100*t.s)+"%, "+(0|100*t.l)+"%, "+(null===this.rgb.a?1:this.rgb.a)+")"},u.prototype.toHex=function(t){var e,r,n;return"#"+(e=this.rgb.r,r=this.rgb.g,n=this.rgb.b,void 0===t&&(t=!1),(t?"000000":"")+e.toString(16).slice(-2)+r.toString(16).slice(-2)+n.toString(16).slice(-2))}}("undefined"==typeof Color?c={}:Color);function y(t,e,r,n,i){return{type:t,x:e,y:r,w:n,h:i}}function v(t,e,r,n,i,o){var a=y(4,e,r,n,i);return a.path=o,a}function b(t){return y.apply(void 0,t)}function w(t){return Array.isArray(t)}function k(t,e,r,n){return y(0,t,e,r,n)}var S;!function(t){t[t.TOP=0]="TOP",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.BOTTOM=3]="BOTTOM"}(S||(S={}));var x=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height};x.prototype.add=function(t,e,r,n){w(t)?(this.x=Math.min(this.x,t[0]),this.y=Math.min(this.y,t[1]),this.width=Math.max(this.width,t[2]),this.height=Math.max(this.height,t[3])):(this.x=Math.min(this.x,t),this.y=Math.min(this.y,e),this.width=Math.max(this.width,r),this.height=Math.max(this.height,n))},x.prototype.calculate=function(t){if(null===t)return y(1,this.x,this.y,this.width,this.height);var e,r,n,i,o=this.x,a=this.y,s=this.width,l=this.height;return o+=t[S.LEFT],a+=t[S.TOP],s-=t[S.LEFT]+t[S.RIGHT],l-=t[S.TOP]+t[S.BOTTOM],y(1,(e=o,r=a,n=s,i=l,Array.isArray(e)?[e[0],e[1],e[2],e[3]]:[e,r,n,i]))},x.EMPTY=new x({x:1/0,y:1/0,width:-1/0,height:-1/0});var C,E=function(t,e){this.node=t,this.parent=e};function T(t,e,r,n,i){return i*(n-e)/(r-t)}function O(t,e){var r=e.width-t.width,n=e.height-t.height;return{width:r,height:n,x:t.left+r/2,y:t.top+n/2}}var I,A=1,M=function(){};function D(t,e){var r,n=t.length,i=e.length,o=0,a=0,s=[];if(0===n)return s;for(;o<n;){var l=t[o];for(r=0;r<i&&l.text.substring(a).indexOf(e[r])!==a-o;r++);if(r===i)l.text.length-a>0&&s.push(new M(l.text.substring(a),l.style)),a=0,o++;else{if(a>0&&s.push(new M(l.text.substring(0,a),l.style)),a+=e[r].length,l.text.length-a>0)t.splice(o+1,0,{text:l.text.substring(a),style:l.style});o--}o++}return s}var P=function(t){return t.reduce((function(t,e){return t+e.width}),0)},R=function(t){var e=t.reduce((function(t,e){return t.concat(e.text.split(" "))}),[]).filter((function(t){return t.length>0}));return function(r,n,i,o){var a=r.slice(0),s=[],l={words:e,width:i};return t.forEach((function(t){w(t.text)?t.text.forEach((function(t){s.push(t.text)})):s.push(t.text)}))}},L=(C=I=function(){function t(){this._events={}}return t.prototype.on=function(t,e){(this._events[t]||(this._events[t]=[])).push(e)},t.prototype.off=function(t,e){this._events[t]&&(this._events[t]=this._events[t].filter((function(t){return t!==e})))},t.prototype.trigger=function(t,e){this._events[t]&&this._events[t].forEach((function(t){t.call(null,e)}))},t}(),I.prototype.watch=function(t,e,r){var n,i=this;void 0===r&&(r=A),n=setInterval((function(){t.call(null)!==e&&i.trigger("change",t.call(null))}),r)},I.prototype.unwatch=function(){},new C);function F(t,e){return t.substr(0,e.length)===e}function B(t,e){return t.substr(t.length-e.length)===e}function V(t,e){for(var r,n=[],i=0,o=0;i<t.length;i++)void 0===(r=(e?t[i].text:t[i]).charCodeAt(0))?n.push(""):32===r?(o++,n.push(new Array(o+1).join(" "))):o=0;return n}function $(t,e){return t.length>0&&-1!==e.indexOf(t.charAt(t.length-1))}function N(t){var e,r,n=/^(data:image\/.*;base64,)/i;return(r=t.match(n))?(e=r[1],{prefix:e,data:t.substr(e.length)}):null}var H=function(t){this.value=t};function z(t){return new H(t)}function j(t){if("string"==typeof t){if("auto"===t)return null;if(B(t,"%"))return new H(s(t)/100);if(B(t,"px"))return new H(s(t))}return t}function W(t,e){var r,n,i,o;return o=new H((null!==(r=j(t))?r.value:0)*(null!==(n=j(e))?n.value:0)),i={px_per_in:96,px_per_cm:96/2.54,px_per_mm:96/25.4,px_per_pt:96/72},o}function U(t){return null===t?0:t.value}var G,q,K,Y,X=function(t,e){return y(3,t,e,0,0)},J=function(t,e,r){var n;switch(t){case"auto":return n=new H(r),"auto";default:if(B(t,"%"))return n=new H(r*s(t)/100);if(B(t,"px"))n=new H(s(t));else if(B(t,"pt"))n=W(t,e.px_per_pt);else if(B(t,"pc"))n=W(t,e.px_per_pc);else if(B(t,"in"))n=W(t,e.px_per_in);else if(B(t,"cm"))n=W(t,e.px_per_cm);else{if(!B(t,"mm"))return new H(0);n=W(t,e.px_per_mm)}return n}},Z=(K=(G=Y={TL:0,TC:1,TR:2,CL:3,CC:4,CR:5,BL:6,BC:7,BR:8}).TL,q=G.TR,G.BL),tt=G.BR;function et(t,e,r,n){switch(t){case K:return k(e,r,n.width,n.height);case q:return k(e-n.width,r,n.width,n.height);case Z:return k(e,r-n.height,n.width,n.height);case tt:return k(e-n.width,r-n.height,n.width,n.height)}}function rt(t,e,r,n,i,o,a,s){var l;switch(t){case"dot":l=".";break;case"line":l="_";break;case"double-line":l="=";break;case"wavy-underline":l="~";break;default:return y(2,n,i,o,a)}var c={text:new Array(1+Math.ceil(o/e.measureText(l).width)).join(l),color:r,font:e},u={width:e.measureText(c.text).width,height:e.measureText("m").width};return function(t,e,r,n,i){var o=document.createElement("canvas"),a=o.getContext("2d");o.width=n,o.height=i;for(var s=0,l=0,c=0,u=0,h=0;h<t.length;h++){var d=t[h],p=d.width,f=d.height;s+p>n&&(l+=u,s=0,u=0),u=Math.max(u,f),a.drawImage(d.image,s,l,p,f),s+=p}return o}([],0,0,0,0)}function nt(t){return"string"==typeof t?t.split(/\s*,\s*/):t}function it(t){var e=t.match(/^(-?[\d.]+)deg$/);if(e)return parseFloat(e[1])%360;var r=t.match(/^(-?[\d.]+)rad$/);if(r)return 180*parseFloat(r[1])/Math.PI%360;var n=t.match(/^(-?[\d.]+)grad$/);if(n)return.9*parseFloat(n[1])%360;var i=t.match(/^(-?[\d.]+)turn$/);return i?360*parseFloat(i[1])%360:void 0}var ot,at=function(t,e){this.x=t,this.y=e};at.prototype.add=function(t){return new at(this.x+t.x,this.y+t.y)},at.prototype.subtract=function(t){return new at(this.x-t.x,this.y-t.y)},at.prototype.multiply=function(t){return new at(this.x*t,this.y*t)},at.prototype.divide=function(t){return new at(this.x/t,this.y/t)},at.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};function st(t){switch(t){case"auto":return ot.contain;case"cover":return ot.cover;case"contain":return ot.contain;default:return null}}var lt,ct,ut,ht,dt,pt=function(t){this.length=t.length,this.nonInfinite=t.filter((function(t){return isFinite(t.x)&&isFinite(t.y)})),this.path=this.nonInfinite,this.bounds=function(t){var e=isFinite(t[0].x)?t[0].x:0,r=isFinite(t[0].y)?t[0].y:0,n=isFinite(t[0].x)?t[0].x:0,i=isFinite(t[0].y)?t[0].y:0;return t.forEach((function(t){e=Math.min(t.x,e),r=Math.min(t.y,r),n=Math.max(t.x,n),i=Math.max(t.y,i)})),new x({x:e,y:r,width:n-e,height:i-r})}(this.nonInfinite)};!function(t){t[t.CONTEXT_TOP=1]="CONTEXT_TOP",t[t.CONTEXT_LEFT=2]="CONTEXT_LEFT",t[t.CONTEXT_WIDTH=3]="CONTEXT_WIDTH",t[t.CONTEXT_HEIGHT=4]="CONTEXT_HEIGHT"}(ot||(ot={}));var ft=function(t,e,r){this.x=t,this.y=e,this.subpaths=r};ft.prototype.isSamePoint=function(t){return this.x===t.x&&this.y===t.y},function(t){t[t.FILL=0]="FILL",t[t.STROKE=1]="STROKE",t[t.NONE=2]="NONE"}(lt||(lt={}));var gt=function(){function t(t,e,r){this.type=t,this.transform=e,this.path=r}return t.prototype.draw=function(t){switch(this.type){case lt.FILL:t.fill();break;case lt.STROKE:t.stroke();break;case lt.NONE:break;default:throw new Error("Unknown canvas drawing type "+this.type)}}}(),mt=function(t,e,r){this._image=t,this.offsetX=e,this.offsetY=r};function yt(t,e){return t.map((function(t){return e.multiply(t)}))}function vt(t,e){var r=[new at(t.x,t.y),new at(t.x+t.width,t.y),new at(t.x+t.width,t.y+t.height),new at(t.x,t.y+t.height)];return yt(r,e)}function bt(t,e){var r,n=vt(t.bounds,e);return r=new x({x:1/0,y:1/0,width:-1/0,height:-1/0}),n.forEach((function(t){r.add(t.x,t.y,t.x,t.y)})),r}!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(ct||(ct={}));!function(t){t[t.NONE=0]="NONE",t[t.SOLID=1]="SOLID",t[t.DASHED=2]="DASHED",t[t.DOTTED=3]="DOTTED",t[t.DOUBLE=4]="DOUBLE"}(ut||(ut={}));var wt=new at(0,0),kt=(ut.SOLID,"CANVAS");!function(t){t.CLIP="clip",t.RECT="rect",t.PATH="path",t.TEXT="text",t.LINE="line",t.IMAGE="image"}(ht||(ht={}));var St=function(){function t(t,e){this.canvas=t,this.context=t.getContext("2d"),this.options=e}return t.prototype.drawStack=function(t){var e,r=this;this.context.save(),this.context.scale(this.options.scale,this.options.scale),this.context.translate(-this.options.x,this.options.y),t.forEach((function(t){r.context.save(),r.transform(t.transform),r.draw(t),r.context.restore()}))},t.prototype.draw=function(t){switch(t.type){case ht.CLIP:this.context.clip();break;case ht.IMAGE:t instanceof mt&&this.context.drawImage(t.image,t.offsetX,t.offsetY);break;case ht.TEXT:this.context.font=t.font,this.context.fillStyle=t.color,this.context.fillText(t.text,t.x,t.y);break;case ht.RECT:this.context.fillStyle=t.color,this.context.fillRect(t.x,t.y,t.width,t.height);break;case ht.PATH:this.drawPath(t.path);break;case ht.LINE:this.context.strokeStyle=t.color,this.context.lineWidth=t.width,this.context.beginPath(),this.context.moveTo(t.x1,t.y1),this.context.lineTo(t.x2,t.y2),this.context.stroke()}},t.prototype.transform=function(t){this.context.translate(t[4],t[5]),this.context.transform(t[0],t[1],t[2],t[3],0,0)},t.prototype.drawPath=function(t){this.context.beginPath(),t.forEach((function(t,e){var r=t.subpaths;0!==e&&t.isSamePoint(t[e-1])||r.forEach((function(t,e){var r=t.x,n=t.y,i=t.args;0===e?i.length>0?this.context.moveTo.apply(this.context,i):this.context.moveTo(r,n):this.context[t.type].apply(this.context,i)}))}))}}(),xt=(dt={},dt.circle=function(t){var e=t.slice(0);if(w(e[0])&&(e=e[0]),e.length%2==0)for(var r=0;r<e.length;r+=2)new pt([new at(e[r],e[r+1])]);return[]},dt.ellipse=function(t){for(var e=[],r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=0,u=Math.max(i,o),h=0;h<2*u;h+=2)e.push(new at(r+i*Math.cos(c),n+o*Math.sin(c)));return e},dt.polygon=function(t){return t.reduce((function(t,e){return t.concat(dt.line(e))}),[])},dt.path=function(t){var e;return new pt((e=t,e.map((function(t){return"M"===t[0]?e=t.slice(1):"L"===t[0]?e=t.slice(1):"C"===t[0]?[e[5],e[6]]:"Q"===t[0]?[e[3],e[4]]:[]}))))},dt.line=function(t){for(var e,r,n=[],i=0;i<t.length;i++){var o=t[i];if(w(o))w(o[0])?o.forEach((function(t){n.push(new at(t[0],t[1]))})):n.push(new at(o[0],o[1]))}return n},dt);function Ct(t,e){var r=null===t.borderRadius?[]:t.borderRadius.map((function(t){return U(t)}));if(0===r.length)return e;var n,i=e.topLeft,o=e.topRight,a=e.bottomRight,s=e.bottomLeft,l=Math.min(t.width/2,t.height/2,r[0]),c=Math.min(t.width/2,t.height/2,r[1]),u=Math.min(t.width/2,t.height/2,r[2]),h=Math.min(t.width/2,t.height/2,r[3]);return new pt([i,new at(i.x+l,i.y),new at(o.x-c,o.y),o,new at(o.x,o.y+c),new at(a.x,a.y-h),a,new at(a.x-u,a.y),new at(s.x+l,s.y),s,new at(s.x,s.y-l)])}function Et(t,e,r,n){return{topLeft:new at(t,e),topRight:new at(t+r,e),bottomRight:new at(t+r,e+n),bottomLeft:new at(t,e+n)}}var Tt=function(){function t(t,e,r){void 0===r&&(r=0),this.text=t,this.start=e,this.end=e+t.length,this.middle=e+t.length/2,this.length=t.length,this.opacity=r}return t.prototype.slice=function(e,r){var n=this.text.slice(e,r);return new t(n,this.start+e,this.opacity)}};var Ot,It=(Ot={},Ot.left=function(t,e,r){var n=Math.min(t.width,e.width);return k(r.x,r.y,n,t.height)},Ot.right=function(t,e,r){var n=Math.min(t.width,e.width);return k(r.x+t.width-n,r.y,n,t.height)},Ot.center=function(t,e,r){var n=Math.min(t.width,e.width);return k(r.x+(t.width-n)/2,r.y,n,t.height)},Ot.top=function(t,e,r){var n=Math.min(t.height,e.height);return k(r.x,r.y,t.width,n)},Ot.bottom=function(t,e,r){var n=Math.min(t.height,e.height);return k(r.x,r.y+t.height-n,t.width,n)},Ot),At=function(){function t(t,e){this.line=t,this.color=e}return t.prototype.draw=function(t,e,r){t.save(),t.fillStyle=this.color.toString(),t.fillRect(e,r,this.line.width,this.line.height),t.restore()},t}();function Mt(t,e){return{red:t[e],green:t[e+1],blue:t[e+2],alpha:t[e+3]}}function Dt(t,e){var r,n=t.data,i=t.width,o={red:0,green:0,blue:0,alpha:0},a=0;for(r=0;r<e.length;r++){var s=e[r],l=Mt(n,4*(s.x+s.y*i));l.alpha>0&&(o.red+=l.red*l.alpha/255,o.green+=l.green*l.alpha/255,o.blue+=l.blue*l.alpha/255,a+=l.alpha/255)}return{red:Math.ceil(o.red/a),green:Math.ceil(o.green/a),blue:Math.ceil(o.blue/a)}}function Pt(t,e,r,n){return new(window.Promise||Promise)((function(i,o){var a=new Image;a.onload=function(){return i(a)},a.onerror=o,a.src=r,n&&(a.crossOrigin=void 0===n?"anonymous":n)}))}function Rt(t){return Pt(t.ownerDocument,0,t.src,t.crossOrigin)}var Lt,Ft,Bt,Vt,$t,Nt=[{node:"input",type:"password"},{node:"input",type:"text"},{node:"textarea",type:void 0}],Ht=function(t){return-1!==Nt.map((function(e){return(void 0===e.type?t.nodeName.toLowerCase()===e.node:t.type===e.type)&&t.nodeName.toLowerCase()===e.node})).indexOf(!0)},zt=function(t){return new Ft(t)},jt=new("undefined"==typeof window?{} G.prototype.render=function(t,e,r,n){var i=this.canvas,o=i.getContext("2d");o.clearRect(0,0,this.canvas.width,this.canvas.height),o.fillStyle=this.backgroundColor.toString(),o.fillRect(0,0,this.canvas.width,this.canvas.height),n&&n.length>0&&n.forEach((function(t){o.save(),o.globalAlpha=t.opacity,o.drawImage(t.canvas,t.x,t.y),o.restore()}));var a,s,l,c,u,h,d,p;a=this.ctx,s=e,l=n,c=this.options,a.save(),a.scale(c.scale,c.scale),a.translate(-c.x,-c.y),d=l,p={canvas:a.canvas,x:0,y:0,opacity:1},d&&d.length>0&&d.forEach((function(t){a.save(),a.globalAlpha=t.opacity,a.drawImage(t.canvas,t.x,t.y),a.restore()})),h=function(t,e,r,n){var i=document.createElement("canvas").getContext("2d");i.fillStyle=r.toString(),i.fillRect(0,0,t,e);var o=n.length,a=new At(new k(0,0,t,e),r);for(s=0;s<o;s++){var s,l=n[s];a.draw(i,l.x,l.y)}return i.canvas}(e.width,e.height,this.backgroundColor,e.backgroundColor),u=h,a.drawImage(u,0,0),s.children.forEach((function(t){new St(t.canvas,c).drawStack(t.stack)})),a.restore(),this.debugger.render(this.ctx)},this.renderQueue.push(this.render.bind(this,t,e,r,n)),this.render(t,e,r,n)},new Wt};async function Gt(t,e){return void 0===e&&(e={}),function(t,e){var r;void 0===e&&(e={});var n,i=null!==(n=e.logging)?n:qt.options.logging;return new(window.Promise||Promise)((function(n,o){var a=e.scale||qt.options.scale,s=e.canvas||qt.options.canvas,l=s?s.ownerDocument:document;if(!s){var c=l.createElement("canvas");c.width=e.width||t.width*a,c.height=e.height||t.height*a,c.getContext("2d").scale(a,a),e.canvas=c,s=c}var u=new(r=e.renderer||qt.options.renderer)(s,e);return u.render(t,t.width,t.height).then((function(){n(u.canvas)}))}))}(await(async function(t,e){var r;return await Jt(t.documentElement,{allowTaint:null!==(r=e.allowTaint)?r:qt.options.allowTaint,backgroundColor:e.backgroundColor||qt.options.backgroundColor,canvas:e.canvas||qt.options.canvas,foreignObjectRendering:e.foreignObjectRendering||qt.options.foreignObjectRendering,imageTimeout:e.imageTimeout||qt.options.imageTimeout,logging:e.logging||qt.options.logging,onclone:e.onclone||qt.options.onclone,proxy:e.proxy||qt.options.proxy,removeContainer:e.removeContainer||qt.options.removeContainer,scale:e.scale||qt.options.scale,target:t})}(t,e)),e)}return Gt.CanvasRenderer=Wt,Gt.cloneWindow=Jt,Gt.parseOptions=Xt,Gt.renderElement=Gt,window.html2canvas=Gt,Gt}));
//# sourceMappingURL=html2canvas.min.js.map
